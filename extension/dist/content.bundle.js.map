{"version":3,"file":"content.bundle.js","sources":["../content.js"],"sourcesContent":["// extension/content.js\nconsole.log('ArXiv extension content script loaded');\n\n// CSS for the annotation UI\n// Updated styles section\nconst STYLES = `\n.arxiv-annotator {\n    display: inline-block;\n    margin-left: 4px;\n    cursor: pointer;\n    font-size: 0.9em;\n    opacity: 0.7;\n    transition: opacity 0.2s;\n    vertical-align: baseline;\n}\n\n.arxiv-annotator:hover {\n    opacity: 1;\n}\n\n.arxiv-popup {\n    position: absolute;  /* Changed from fixed to absolute */\n    background: white;\n    border: 1px solid #ddd;\n    border-radius: 6px;\n    padding: 12px;\n    box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n    width: 300px;\n    z-index: 10000;\n    box-sizing: border-box;  /* Added to ensure padding is included in width */\n}\n\n.arxiv-popup-header {\n    font-weight: bold;\n    margin-bottom: 8px;\n    line-height: 1.4;\n    font-size: 1em;\n}\n\n.arxiv-popup-meta {\n    color: #666;\n    font-size: 0.85em;\n    margin-bottom: 12px;\n    line-height: 1.4;\n}\n\n.arxiv-popup-buttons {\n    display: flex;\n    gap: 8px;\n    margin: 8px 0;\n}\n\n.arxiv-popup button {\n    padding: 6px 12px;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    background: #f5f5f5;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    font-size: 0.9em;\n}\n\n.arxiv-popup button:hover {\n    background: #e8e8e8;\n    border-color: #ccc;\n}\n\n.arxiv-popup button.active {\n    background: #e0e0e0;\n    border-color: #aaa;\n}\n\n.arxiv-popup textarea {\n    width: calc(100% - 16px);  /* Account for padding */\n    min-height: 80px;\n    margin: 8px 0;\n    padding: 8px;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    resize: vertical;\n    font-family: inherit;\n    font-size: 0.9em;\n    line-height: 1.4;\n    box-sizing: border-box;  /* Added to ensure padding is included in width */\n}\n\n.arxiv-popup textarea:focus {\n    outline: none;\n    border-color: #aaa;\n}\n\n.arxiv-popup-actions {\n    display: flex;\n    justify-content: flex-end;\n    gap: 8px;\n    margin-top: 12px;\n}\n\n.arxiv-popup .save-button {\n    background: #2563eb;\n    color: white;\n    border-color: #2563eb;\n}\n\n.arxiv-popup .save-button:hover {\n    background: #1d4ed8;\n    border-color: #1d4ed8;\n}\n\n/* Loading state */\n.arxiv-popup-header:empty::after,\n.arxiv-popup-header:contains('Loading...') {\n    content: '';\n    display: inline-block;\n    width: 12px;\n    height: 12px;\n    border: 2px solid #ddd;\n    border-top-color: #666;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    to { transform: rotate(360deg); }\n}\n`;\n\n// Add styles to page\nconst styleSheet = document.createElement('style');\nstyleSheet.textContent = STYLES;\ndocument.head.appendChild(styleSheet);\n\n// Track active popup\nlet activePopup = null;\n\n// Update the click-outside handler to account for wrapper\ndocument.addEventListener('click', (e) => {\n    if (activePopup && \n        !activePopup.contains(e.target) && \n        !e.target.classList.contains('arxiv-annotator')) {\n        activePopup.parentElement?.remove(); // Remove the wrapper\n        activePopup = null;\n    }\n});\n\n// Cache for paper metadata\nconst metadataCache = new Map();\n\n// Parse arXiv API response\nasync function parseXMLResponse(xmlText) {\n    const parser = new DOMParser();\n    const xmlDoc = parser.parseFromString(xmlText, \"text/xml\");\n    \n    // Get entry element\n    const entry = xmlDoc.querySelector('entry');\n    if (!entry) return null;\n    \n    return {\n        title: entry.querySelector('title')?.textContent?.trim(),\n        authors: Array.from(entry.querySelectorAll('author name'))\n            .map(name => name.textContent.trim())\n            .join(', '),\n        abstract: entry.querySelector('summary')?.textContent?.trim(),\n        published: entry.querySelector('published')?.textContent?.trim(),\n    };\n}\n\n// Fetch paper metadata\nasync function fetchPaperMetadata(arxivId) {\n    console.log('Starting metadata fetch for:', arxivId);\n    \n    // Check cache first\n    if (metadataCache.has(arxivId)) {\n        console.log('Found in cache:', arxivId);\n        return metadataCache.get(arxivId);\n    }\n\n    console.log('Fetching from arXiv API:', arxivId);\n    try {\n        const apiUrl = `https://export.arxiv.org/api/query?id_list=${arxivId}`;\n        console.log('API URL:', apiUrl);\n        \n        const response = await fetch(apiUrl);\n        console.log('API response status:', response.status);\n        \n        const text = await response.text();\n        console.log('API response length:', text.length);\n        \n        const metadata = await parseXMLResponse(text);\n        console.log('Parsed metadata:', metadata);\n\n        if (metadata) {\n            metadataCache.set(arxivId, metadata);\n            return metadata;\n        } else {\n            console.log('Failed to parse metadata');\n        }\n    } catch (error) {\n        console.error('Error fetching metadata:', error);\n    }\n\n    return null;\n}\n\n// Create popup element\nasync function createPopup(arxivId, initialTitle = '') {\n    console.log('Creating popup for:', arxivId);\n    \n    // Fetch metadata first\n    const metadata = await fetchPaperMetadata(arxivId);\n    console.log('Fetched metadata:', metadata);\n\n    const popup = document.createElement('div');\n    popup.className = 'arxiv-popup';\n    popup.innerHTML = `\n        <div class=\"arxiv-popup-header\">${metadata?.title || initialTitle || arxivId}</div>\n        <div class=\"arxiv-popup-meta\">${metadata?.authors || ''}</div>\n        <div class=\"arxiv-popup-buttons\">\n            <button class=\"vote-button\" data-vote=\"thumbsup\">üëç Interesting</button>\n            <button class=\"vote-button\" data-vote=\"thumbsdown\">üëé Not Relevant</button>\n        </div>\n        <textarea placeholder=\"Add notes...\"></textarea>\n        <div class=\"arxiv-popup-actions\">\n            <button class=\"save-button\">Save</button>\n        </div>\n    `;\n\n    // Handle voting\n    popup.querySelectorAll('.vote-button').forEach(button => {\n        button.addEventListener('click', () => {\n            popup.querySelectorAll('.vote-button').forEach(b => b.classList.remove('active'));\n            button.classList.add('active');\n        });\n    });\n\n    // Handle save\n    popup.querySelector('.save-button').addEventListener('click', () => {\n        const vote = popup.querySelector('.vote-button.active')?.dataset.vote;\n        const notes = popup.querySelector('textarea').value;\n        \n        // Send to background script\n        if (vote || notes) {\n            chrome.runtime.sendMessage({\n                type: 'updateAnnotation',\n                annotationType: notes ? 'notes' : 'vote',\n                data: {\n                    paperId: arxivId,\n                    vote,\n                    notes,\n                    title: metadata?.title,\n                    authors: metadata?.authors,\n                    abstract: metadata?.abstract,\n                    timestamp: new Date().toISOString()\n                }\n            }, (response) => {\n                console.log('Annotation saved:', response);\n                popup.remove();\n                activePopup = null;\n            });\n        }\n    });\n\n    return popup;\n}\n\n// Process a link element\nasync function processArxivLink(link) {\n    // Skip if already processed\n    if (link.classList.contains('arxiv-processed')) return;\n    link.classList.add('arxiv-processed');\n\n    // Extract arXiv ID\n    const patterns = [\n        /arxiv\\.org\\/abs\\/([0-9.]+)/,\n        /arxiv\\.org\\/pdf\\/([0-9.]+)\\.pdf/,\n        /arxiv\\.org\\/\\w+\\/([0-9.]+)/\n    ];\n    \n    let arxivId = null;\n    for (const pattern of patterns) {\n        const match = link.href.match(pattern);\n        if (match) {\n            arxivId = match[1];\n            break;\n        }\n    }\n\n    if (!arxivId) return;\n\n    // Create annotator button\n    const annotator = document.createElement('span');\n    annotator.className = 'arxiv-annotator';\n    annotator.textContent = 'üìù';\n    annotator.title = 'Add annotation';\n    \n    // Create a wrapper for the popup that will help with positioning\n    function createPopupWrapper(annotator) {\n        const wrapper = document.createElement('div');\n        wrapper.style.position = 'relative';\n        wrapper.style.zIndex = '10000';\n        return wrapper;\n    }\n    \n    // Update the click handler\n    annotator.addEventListener('click', async (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n    \n        // Remove existing popup if any\n        if (activePopup) {\n            activePopup.parentElement?.remove(); // Remove the wrapper\n            if (activePopup.arxivId === arxivId) {\n                activePopup = null;\n                return;\n            }\n        }\n    \n        // Create popup first\n        const popup = await createPopup(arxivId);\n        \n        // Create wrapper and add popup to it\n        const wrapper = createPopupWrapper(annotator);\n        wrapper.appendChild(popup);\n        \n        // Position popup relative to annotator\n        const annotatorRect = annotator.getBoundingClientRect();\n        const available_width = window.innerWidth - annotatorRect.left;\n        \n        if (available_width < 320) { // if not enough space on right\n            popup.style.right = '0';  // align to right edge\n            popup.style.left = 'auto';\n        } else {\n            popup.style.left = '0';\n        }\n        popup.style.top = `${annotatorRect.height + 5}px`;\n        \n        // Keep reference and show\n        popup.arxivId = arxivId;\n        annotator.parentNode.insertBefore(wrapper, annotator.nextSibling);\n        activePopup = popup;\n    });\n    // Add to page\n    link.parentNode.insertBefore(annotator, link.nextSibling);\n}\n\n// Process initial links\ndocument.querySelectorAll('a[href*=\"arxiv.org\"]').forEach(processArxivLink);\n\n// Watch for new links\nconst observer = new MutationObserver((mutations) => {\n    mutations.forEach(mutation => {\n        mutation.addedNodes.forEach(node => {\n            if (node.nodeType === Node.ELEMENT_NODE) {\n                node.querySelectorAll('a[href*=\"arxiv.org\"]').forEach(processArxivLink);\n            }\n        });\n    });\n});\n\nobserver.observe(document.body, {\n    childList: true,\n    subtree: true\n});\n"],"names":[],"mappings":"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"}